<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="shortcut icon" href="../Assets/SMF-Icon.png" type="image/x-icon">
    <link rel="stylesheet" href="../home/style.css">
</head>
<style>
    html {
        background-image: url('../LoginCadastro/assets/corredor.png');
    }
</style>

<body>
    <header>
        <div class="header">
            <div class="container">
                <div class="logo-header">
                    <img src="assets/logo_png.png" alt="">
                </div>
                <div class="navbar">
                    <ul>
                        <li> <a href="../home/home.html">Home</a></li>
                        <li> <a href="../home/sobrenos.html"><span>Sobre nós</span></a></li>
                        <li> <a href="../Calculadora/Calculadora.html">Simulador financeiro </a> </li>
                        <li> <a href="../home/contato.html">Entre em contato</a></li>
                        <a href="../LoginCadastro/login.html"><button class="button-login">Login</button></a>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="body-cadastro">
        <h1 style="color: #f1f3e8; margin-top: 1.5vw;">Vamos realizar seu cadastro?</h1>
        <div class="caixa-cadastro">
            <h2>CADASTRAR</h2>
            <div class="pai">
                <div class="filho">
                    <p class="subtitulo">Nome Completo: *</p>
                    <input id="input_nome_responsavel" type="text">

                    <p class="subtitulo">E-mail: *</p>
                    <input id="input_email1" type="text" oninput="anaEmail1()"><br>
                    
                    <span id="span_email1"></span>

                    <p class="subtitulo">Código de Verificação:</p>
                    <input id="input_codigo" type="text" oninput="anaCodigo()"><br>
                       
                    <span id="span_codigo"></span>
                
                    <p class="subtitulo">Telefone : *</p>
                    <input id="input_tel_1" type="number" placeholder="Digite com o DDD e sem espaço e traço"
                        oninput="anaTel1()">
                   
                    <span id="span_tel1"></span>
                    
                    <p class="subtitulo">Senha: *</p>
                    <input id="input_senha" type="password" oninput="anaSenha()">
                    <p>
                        <span id="span_tamanho">Deve conter mais de 8 caractéres</span> <br>
                        <span id="span_num">Utilize números</span> <br>
                        <span id="span_caracEsp">Utilize caractéres especiais: <br>
                            <span id="span_caracESP" style="color: gray; font-size: 12px;">Ex: ! % * . & # $</span>
                    </p>

                    <p class="subtitulo">Confirme sua senha: *</p>
                    <input id="input_senha_confirmacao" type="password" oninput="senhaConf()"> <br> <br>
                    <span id="span_senhaConfirm"></span>

                    <button class="button-lc" onclick="cadastrar()">Cadastre-se</button>

                    <p class="link">Já tem conta? &nbsp<a href="login.html">Faça o login</a></p>
                </div>
            </div>
        </div>
    </div>
</body>
<footer>
    <p>Contato (SMF@OUTLOOK.COM, 1194111-1106(WhatsApp)).</p>
    <p>Rua Haddock Lobo, 595 - São Paulo / SP</p>
    <p>© 2025 SMF. Todos os direitos reservados.</p>
</footer>

</html>
<script>
    // Criando variávei globais
    var veriEmail1 = false;
    var veriTel1 = false;
    var senha = '';
    var veriSenha = false;
    var veriSenhaConfirmacao = false;
    var codigoVeri = false;

    function anaEmail1() { // Analizando o email 1 enquanto o usuário digita
        var email1 = input_email1.value;
        var emailMin1 = email1.toLowerCase();

        if (emailMin1.includes('@') && emailMin1.endsWith('.com')) { // Verificando se o email 1 possui @ e .com
            span_email1.innerHTML = ` Email válido`;
            span_email1.style.color = `green`;
            veriEmail1 = true;

        } else {
            span_email1.innerHTML = ` Email inválido`;
            span_email1.style.color = `red`;
            veriEmail1 = false
        }
    }

    function anaTel1() { // Analizando o telefone 1 enquanto o usuário digita
        var telefone_1 = input_tel_1.value;

        if (telefone_1.length == 11) { // Verificando se o telefone 1 possui 11 dígitos
            span_tel1.innerHTML = ' Telefone válido';
            span_tel1.style.color = `green`;
            veriTel1 = true;

        } else {
            span_tel1.innerHTML = ' Telefone inválido';
            span_tel1.style.color = `red`;
            veriTel1 = false;
        }
    }

    function anaSenha() { // Analizando a senha enquanto o usuário digita
        senha = input_senha.value;
        var veriTam = false;
        var veriNum = false;
        var veriCarc = false

        if (senha.length >= 8) { // Verificando se a senha possui mais ou 8 dígitos
            span_tamanho.style.color = `green`;
            veriTam = true;

        } else {
            span_tamanho.style.color = `red`;
            veriTam = false;
        }

        if (senha.includes(0) || senha.includes(1) || senha.includes(2) || senha.includes(3) || senha.includes(4)
            || senha.includes(5) || senha.includes(6) || senha.includes(7) || senha.includes(8) || senha.includes(9)) { // Verificando se a senha possui números
            span_num.style.color = `green`;
            veriNum = true;

        } else {
            span_num.style.color = `red`;
            veriNum = false;
        }

        if (senha.includes('!') || senha.includes('%') || senha.includes('*') || senha.includes('.')
            || senha.includes('&') || senha.includes('#') || senha.includes('$')) { // Verificando se a senha possui caractéres especiais
            span_caracEsp.style.color = `green`;
            veriCarc = true;

        } else {
            span_caracEsp.style.color = `red`;
            veriCarc = false;
        }

        if (veriTam == false) { // Verificando se o tamanho esta maior ou igual a 8 dígitos

        } else if (veriNum == false) { // Verificando se possui pelo menos 1 número

        } else if (veriCarc == false) { // Verificando se possui pelo menos 1caractér especial

        } else { //Se a senha possui mais de 8 dígitos, possuir número e possuir caractér especial, a senha é válida
            veriSenha = true;
        }
    }

    function senhaConf() { // Analizando a confirmação de senha enquanto o usuário digita
        var senha_confirmacao = input_senha_confirmacao.value;

        if (senha_confirmacao == senha) { // Verificando se a confirmação de senha é igual a senha
            span_senhaConfirm.innerHTML = ``;
            veriSenhaConfirmacao = true;

        } else {
            span_senhaConfirm.innerHTML = ` Senha incompatível`;
            span_senhaConfirm.style.color = `red`;
            veriSenhaConfirmacao = false;

        }
    }

    function anaCodigo(){

    }

    function cadastrar() { // Cadastrando o usuário
        var nome_responsavel = input_nome_responsavel.value;
        var nome_empresa = input_nome_empresa.value;
        var tipoTel1 = select_tipoTel1.value;
        var codigoVeri = input_codigo.value;

        if (input_nome_responsavel.value == '' || // Verificando se as inputs estão vazias
            input_email1.value == '' ||
            input_tel_1.value == '' ||
            input_senha.value == '' ||
            input_senha_confirmacao.value == ''||
            input_codigo.value == ''
        ) {
            alert('Preencha todos os campos obrigatórios');

        } else if (veriEmail1 == false) { // Verificando se o email 1 foi digitado com @ e .com
            alert('O E-mail 1 inserido é inválido');

        } else if (cargo == '#') { // Verificando se o cargo foi selecionado
            alert('Selecione um cargo');

        } else if (veriTel1 == false) { // Verificando se o telefone 1 é válido, sendo igual a 11 números
            alert('O Telefone 1 inserido é inválido');

        } else if ( codigoVeri == false) { // Verificando se o Código de Verificação foi digitado
            alert('O Código de Verificação é inválido');

        } else if (veriSenha == false) { // Verificando se a senha inclui todos as restrições
            alert('A senha inserida é inválida');

        } else if (veriSenhaConfirmacao == false) { // Verificando se a senha é igual a senha de confirmação
            alert('A senha da confirmação deve ser igual a senha definida');

        } else { // Cadastrando o usuário caso as verificações anteriores derem falso e redirecionando ele para a tela de login
            alert('Usuário cadastrado com sucesso!')
            window.location = "login.html"
        }

    }
</script>